<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:sp="http://www.springframework.org/tags">
	
		<!-- ADD -->
		<ui:include src="modalPermissao.xhtml" />
		
		<b:modal id="modalPerfil" title="Perfil"
			styleClass="fade" close-on-escape="false" closable="true"
			backdrop="false">
			<h:form styleClass="form-horizontal row-border" id="formPerfil">

				<p:messages id="messagesPerfil" globalOnly="false" autoUpdate="false" showDetail="false" closable="true"
					showIcon="false" showSummary="true" />

				<b:panelGrid colSpans="2,10" size="xs">
					<h:outputLabel value="Nome" styleClass="control-label" />
					<b:inputText span="12" name="Nome"
						disabled="#{perfilService.perfil.idPerfil > 0 ? 'true' : 'false'}"
						readonly="#{perfilService.perfil.idPerfil > 0 ? 'true' : 'false'}"
						value="#{perfilService.perfil.nome}" />
				</b:panelGrid>

				<b:panelGrid colSpans="2,5,5" size="sm" id="selectPermissoes" >
					<h:outputLabel value="PermissÃµes" styleClass="control-label" />
					<b:selectMultiMenu span="12" 
						allSelectedText="Todos selecionados"
						includeSelectAllOption="true"
						nonSelectedText="Selecione"
						selectAllText="Selecionar todos"
						maxHeight="300"
						enableCaseInsensitiveFiltering="true" enableFiltering="true"
						filterPlaceholder="Procurar" value="#{perfilService.permissao}">
						<f:selectItems value="#{permissaoService.findAll()}" var="select" 
							itemLabel="#{select.nome}" itemValue="#{select.nome}" />
					</b:selectMultiMenu>
					<p:commandButton icon="fa fa-share-square-o" value="ADD PERMISSAO"
						action="#{permissaoService.add}" process="@this"
						styleClass="noui zoom btn btn-primary btn-xs" />
				</b:panelGrid>

				<b:row style="text-align:right;margin:0 10px;">

					<p:commandButton value="Enviar" icon="fa fa-thumbs-up"
					action="#{perfilService.saveOrUpdate}" update="messagesPerfil"
					styleClass="noui zoom btn btn-success" />

				</b:row>
			</h:form>
		</b:modal>

</ui:composition>