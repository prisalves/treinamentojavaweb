<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:sp="http://www.springframework.org/tags"
	template="/template/template.xhtml">
	
	<f:metadata>
		<f:event type="preRenderView" listener="#{reservaService.initAgenda}" />
	</f:metadata>

	<ui:define name="title">        
            AGENDA   
    </ui:define>

	<!-- <ui:define name="header" /> -->
	<!-- <ui:define name="slide" /> -->
	<!-- <ui:define name="search" /> -->
	<!-- <ui:define name="modal" /> -->
	<!-- <ui:define name="menuLeft" /> -->
	<!-- <ui:define name="menuRight" /> -->

	<ui:define name="main">

		<ol class="breadcrumb">
			<li ><a href="#{request.contextPath}/">PÃ¡gina inicial</a></li>
			<li ><a href="#{request.contextPath}/reservas">Reservas</a></li>
			<li class="active"><a href="#{request.contextPath}/reservas_agenda">Reservas agenda</a></li>
		</ol>
		<!-- //breadcrumb-->

		<div id="content">

			<h3>AGENDA</h3>

			<p:schedule widgetVar="meuCalendario" styleClass="agenda"
					ignoreTimezone="false" locale="pt" id="meuCalendarioId"
					timeFormat="HH:mm" timeZone="America/Noronha" slotMinutes="15"
					value="#{reservaService.eventModel}" allDaySlot="false" tooltip="true">

				<p:ajax event="dateSelect" listener="#{reservaService.onDateSelect}"
						update="eventDialogId" />
				<p:ajax event="eventSelect" listener="#{reservaService.onEventSelect}"
						update="eventDialogId" />

			</p:schedule>
			
			<p:dialog widgetVar="eventDialog" header="Detalhes do evento"
					style="padding:10px" id="eventDialogId" showEffect="clip"
					hideEffect="clip" modal="true" resizable="false" dynamic="true">
					
					<h:outputLabel value="#{reservaService.reserva.idReserva}" />
					
			</p:dialog>

		</div>
		<!-- FIM CONTENT -->
		
		<ui:include src="modalReserva.xhtml" />

	</ui:define>

	<ui:define name="script">
		<script type="text/javascript">
			var body=$("body");
				//body.addClass("nav-collapse");
				//body.addClass("in");
				//body.toggleClass("in");
	</script>
	</ui:define>

</ui:composition>